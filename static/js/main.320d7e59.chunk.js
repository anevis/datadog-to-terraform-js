(this["webpackJsonpdatadog-to-terraform-js"]=this["webpackJsonpdatadog-to-terraform-js"]||[]).push([[0],{11:function(t,e,i){t.exports=i(20)},19:function(t,e,i){},20:function(t,e,i){"use strict";i.r(e);var n,r=i(0),o=i.n(r),a=i(9),s=i.n(a),c=i(1),u=i(2),d=i(4),h=i(3),l=i(5),f=i(10),m=i.n(f),p=(i(19),i(7)),v=i(6),y=function(){function t(e){Object(c.a)(this,t),this.options=void 0,this.ddJson=void 0,this.ddJson=e,this.options=this.initOptions()}return Object(u.a)(t,[{key:"initOptions",value:function(){for(var t={},e=0,i=Object.keys(this.ddJson);e<i.length;e++){var n=i[e];this.ddJson.hasOwnProperty(n)&&!this.propertyNames().includes(n)&&(t[n]=this.ddJson[n])}return t}},{key:"toTerraform",value:function(){for(var t=[],e=0,i=Object.keys(this.options);e<i.length;e++){var n=i[e];t.push("".concat(this.optionToTerraform(n)))}return t.join(" ")}},{key:"optionToTerraform",value:function(t){return"boolean"===typeof this.options[t]?"".concat(t," = ").concat(this.options[t]):"".concat(t,' = "').concat(this.options[t],'"')}}]),t}();!function(t){t.LESS_THAN="<",t.LESS_THAN_OR_EQUAL_TO="<=",t.GREATER_THAN=">",t.GREATER_THAN_OR_EQUAL_TO=">=",t.EQUAL_TO="="}(n||(n={}));var T,g,j=function(){function t(e){Object(c.a)(this,t),this.comparator=void 0,this.value=void 0,this.palette=void 0,this.comparator=e.comparator,this.value=e.value,this.palette=e.palette}return Object(u.a)(t,[{key:"toTerraform",value:function(){return"conditional_formats {comparator ="+' "'.concat(this.comparator,'" value = "').concat(this.value,'" palette = "').concat(this.palette,'"}')}}]),t}(),O=function(){function t(e){Object(c.a)(this,t),this.expression=void 0,this.aliasName=void 0,this.expression=e.expression,this.aliasName=e.alias_name}return Object(u.a)(t,[{key:"toTerraform",value:function(){return'metadata {expression = "'.concat(this.expression,'" alias_name = "').concat(this.aliasName,'"}')}}]),t}(),b=function(){function t(e){Object(c.a)(this,t),this.palette=void 0,this.lineType=void 0,this.lineWidth=void 0,this.palette=e.palette,this.lineType=e.line_type,this.lineWidth=e.line_width}return Object(u.a)(t,[{key:"toTerraform",value:function(){var t='palette = "'.concat(this.palette,'"');return this.lineType&&(t+=' line_type = "'.concat(this.lineType,'"')),this.lineType&&(t+=' line_width = "'.concat(this.lineWidth,'"')),"style {".concat(t,"}")}}]),t}(),w=function(t){function e(t){var i;return Object(c.a)(this,e),(i=Object(d.a)(this,Object(h.a)(e).call(this,t))).query=void 0,i.conditionalFormat=void 0,i.metadata=void 0,i.style=void 0,i.requestDdJson=void 0,i.requestDdJson=t,i.query=void 0!==t.fill?t.fill.q:t.q,i.conditionalFormat=i.initConditionalFormat(),i.metadata=i.initMetadata(),i.style=i.initStyle(),i}return Object(l.a)(e,t),Object(u.a)(e,[{key:"initConditionalFormat",value:function(){return void 0!==this.requestDdJson.conditional_formats?this.requestDdJson.conditional_formats.map((function(t){return new j(t)})):[]}},{key:"initMetadata",value:function(){return void 0!==this.requestDdJson.metadata?this.requestDdJson.metadata.map((function(t){return new O(t)})):[]}},{key:"initStyle",value:function(){if(void 0!==this.requestDdJson.style)return new b(this.requestDdJson.style)}},{key:"propertyNames",value:function(){return["q","conditional_formats","style","metadata"]}},{key:"toTerraform",value:function(){return'request {q = "'.concat(this.query,'"').concat(this.optionsToTerraform()).concat(this.metadataToTerraform())+"".concat(this.styleToTerraform()).concat(this.conditionalFormatToTerraform(),"}")}},{key:"optionsToTerraform",value:function(){var t=Object(p.a)(Object(h.a)(e.prototype),"toTerraform",this).call(this);return t.length>0?" ".concat(t):""}},{key:"metadataToTerraform",value:function(){return this.metadata.length>0?" "+this.metadata.map((function(t){return t.toTerraform()})).join(" "):""}},{key:"styleToTerraform",value:function(){var t;return this.style?" "+(null===(t=this.style)||void 0===t?void 0:t.toTerraform()):""}},{key:"conditionalFormatToTerraform",value:function(){return this.conditionalFormat.length>0?" "+this.conditionalFormat.map((function(t){return t.toTerraform()})).join(" "):""}}]),e}(y);!function(t){t.ALERT_GRAPH="alert_graph",t.FREE_TEXT="free_text",t.GROUP="group",t.HOSTMAP="hostmap",t.TOPLIST="toplist",t.QUERY_VALUE="query_value",t.TIMESERIES="timeseries"}(g||(g={}));var k,_=(T={},Object(v.a)(T,g.ALERT_GRAPH,"alert_graph_definition"),Object(v.a)(T,g.FREE_TEXT,"free_text_definition"),Object(v.a)(T,g.GROUP,"group_definition"),Object(v.a)(T,g.HOSTMAP,"hostmap_definition"),Object(v.a)(T,g.TOPLIST,"toplist_definition"),Object(v.a)(T,g.QUERY_VALUE,"query_value_definition"),Object(v.a)(T,g.TIMESERIES,"timeseries_definition"),T),E=function(){function t(e){Object(c.a)(this,t),this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}return Object(u.a)(t,[{key:"toTerraform",value:function(){return"layout = {x = ".concat(this.x," y = ").concat(this.y," width = ").concat(this.width," height = ").concat(this.height,"}")}}]),t}(),S=function(t){function e(){return Object(c.a)(this,e),Object(d.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(u.a)(e,[{key:"propertyNames",value:function(){return[]}},{key:"toTerraform",value:function(){return"time = {".concat(Object(p.a)(Object(h.a)(e.prototype),"toTerraform",this).call(this),"}")}}]),e}(y),J=function(t){function e(t){var i;return Object(c.a)(this,e),(i=Object(d.a)(this,Object(h.a)(e).call(this,t.definition))).type=void 0,i.title=void 0,i.layout=void 0,i.requests=void 0,i.isSupported=void 0,i.widgets=void 0,i.time=void 0,i.widgetJson=void 0,i.widgetJson=t,i.type=t.definition.type,i.isSupported=Object.values(g).includes(t.definition.type),i.title=t.definition.title,i.layout=i.initLayout(),i.requests=i.initRequests(),i.widgets=i.initWidgets(),i.time=t.definition.time?new S(t.definition.time):void 0,i.validate(),i}return Object(l.a)(e,t),Object(u.a)(e,[{key:"initLayout",value:function(){if(void 0!==this.widgetJson.layout)return new E(this.widgetJson.layout)}},{key:"initRequests",value:function(){return this.widgetJson.definition.requests instanceof Array?this.widgetJson.definition.requests.map((function(t){return new w(t)})):void 0!==this.widgetJson.definition.requests?[new w(this.widgetJson.definition.requests)]:[]}},{key:"initWidgets",value:function(){return void 0!==this.widgetJson.definition.widgets?this.widgetJson.definition.widgets.map((function(t){return new e(t)})):[]}},{key:"validate",value:function(){if(this.type===g.GROUP&&0===this.widgets.length)throw new Error("A group widget must have at least one widget within it.")}},{key:"propertyNames",value:function(){return["requests","title","time","type","widgets"]}},{key:"toTerraform",value:function(){var t=this.title?'title = "'.concat(this.title,'"'):"",i=Object(p.a)(Object(h.a)(e.prototype),"toTerraform",this).call(this);if(i.length>0&&(t+=" ".concat(i)),this.requests.length>0){var n=this.requests.map((function(t){return t.toTerraform()})).join(" ");t+=" ".concat(n)}this.time&&(t+=this.time.toTerraform());var r=void 0!==this.layout?" ".concat(this.layout.toTerraform()):"";return"widget {".concat(_[this.type]," {").concat(t).concat(this.widgetsToTerraform(),"}").concat(r,"}")}},{key:"widgetsToTerraform",value:function(){return this.widgets.length>0?" "+this.widgets.map((function(t){return t.toTerraform()})).join(" "):""}}]),e}(y);!function(t){t.FREE="free",t.ORDERED="ordered"}(k||(k={}));var q=function(t){function e(t){var i;return Object(c.a)(this,e),(i=Object(d.a)(this,Object(h.a)(e).call(this,JSON.parse(t)))).layoutType=void 0,i.notifyList=void 0,i.widgets=void 0,i.layoutType=i.ddJson.layout_type,i.notifyList=i.ddJson.notify_list,i.widgets=i.initWidgets(),i}return Object(l.a)(e,t),Object(u.a)(e,[{key:"initWidgets",value:function(){return this.ddJson.widgets?this.ddJson.widgets.map((function(t){return new J(t)})):[]}},{key:"propertyNames",value:function(){return["layout_type","notify_list","widgets","dashboard_id"]}},{key:"toTerraform",value:function(){var t='layout_type = "'.concat(this.layoutType,'"');return void 0!==this.notifyList&&(t+=" notify_list = [".concat(this.notifyList.map((function(t){return'"'.concat(t,'"')})).join(" "),"]")),this.widgets.length>0&&(t+=" "+this.widgets.map((function(t){return t.toTerraform()})).join(" ")),'resource "datadog_dashboard" "dashboard" {'.concat(Object(p.a)(Object(h.a)(e.prototype),"toTerraform",this).call(this)," ").concat(t,"}")}}]),e}(y),R=function(){function t(e){Object(c.a)(this,t),this.indent=void 0,this.prettySlr="",this.prevTfChar="",this.curTfChar="",this.inString=!1,this.bracketLevel=1,this.indent=e||0}return Object(u.a)(t,[{key:"pretty",value:function(t){for(var e=0;e<t.length;e++)this.prevTfChar=this.curTfChar,this.curTfChar=t[e],'"'===this.curTfChar&&"\\"!==this.prevTfChar&&(this.inString=!this.inString),this.prettySlr+=this.formatBrackets();return this.prettySlr}},{key:"formatBrackets",value:function(){if(!this.inString){if("{"===this.curTfChar){var t="".concat(this.curTfChar,"\n").concat(this.getIndent(this.bracketLevel));return this.bracketLevel++,t}if("}"===this.curTfChar){this.bracketLevel--;var e="".concat(this.curTfChar,"\n");return this.bracketLevel>1&&(e="".concat(this.getIndent(this.bracketLevel-1)).concat(e)),"}"!==this.prevTfChar&&(e="\n".concat(e)),e}}return this.curTfChar}},{key:"getIndent",value:function(t){return this.indent>0?" "+Array(this.indent*t).join(" "):""}}]),t}(),L=function(t){function e(t){var i;return Object(c.a)(this,e),(i=Object(d.a)(this,Object(h.a)(e).call(this,t))).render=function(){return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"dd-input dd-input-json"},o.a.createElement("label",{htmlFor:"dd-json"},"Datadog JSON"),o.a.createElement("textarea",{id:"dd-json",className:"dd-textarea dd-json",rows:15,onChange:i.onJSONChange,value:i.state.jsonStr}),o.a.createElement("span",{id:"dd-json-error",className:"dd-error dd-json-error"},i.state.error)),o.a.createElement("div",{className:"dd-input dd-input-terraform"},o.a.createElement("label",{htmlFor:"dd-terraform"},"Datadog Terraform"),o.a.createElement("div",{className:"dd-terraform-pretty-print-div"},o.a.createElement("label",{htmlFor:"dd-terraform-pretty-print"},"Pretty print"),o.a.createElement("input",{type:"checkbox",id:"dd-terraform-pretty-print",checked:i.state.prettyPrint,onChange:i.onPrettyPrint()})),o.a.createElement("pre",{id:"dd-terraform",className:"dd-terraform"},i.state.terraformStr),o.a.createElement(m.a,{text:i.state.terraformStr||""},o.a.createElement("button",{id:"btn-copy-terraform",title:"Copy"},"Copy"))))},i.onJSONChange=function(t){var e=t.target.value;i.setState({jsonStr:e},(function(){i.convert()}))},i.onPrettyPrint=function(){return function(){i.setState({prettyPrint:!i.state.prettyPrint},(function(){i.convert()}))}},i.state={jsonStr:t.jsonStr||"",prettyPrint:!0},i}return Object(l.a)(e,t),Object(u.a)(e,[{key:"convert",value:function(){var t=this.state.jsonStr;try{var e=new q(t).toTerraform(),i=new R(2);this.setState({terraformStr:this.state.prettyPrint?i.pretty(e):e,error:""})}catch(n){this.setState({error:n.message})}}}]),e}(o.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.320d7e59.chunk.js.map